<div class="row mt-4">
    <div class="col-lg-3"></div>
    <div class="col-lg-6">
        <h1 style="text-align: center;">Thời khóa biểu</h1>
        {{#if schedules}}
        {{#each schedules}}
        <table class="table" style="margin-bottom: 50px">
            <p><strong>Học kỳ {{this.semester}}</strong></p>
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Tên Môn Học</th>
                    <th scope="col">Mã Môn Học</th>
                    <th scope="col">Thứ</th>
                    <th scope="col">Tiết</th>
                    <th scope="col">Phòng</th>
                </tr>
            </thead>
            <tbody>
                {{#each this.schedule}}
                <tr>
                    <td>{{sum @index 1}}</td>
                    <td>{{this.courseName}}</td>
                    <td>{{this.courseId}}</td>
                    <td>{{this.day}}</td>
                    <td>{{this.period}}</td>
                    <td></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{/each}}
        {{else}}
        <div style="text-align: center;" class="mt-4">
            <span>Chưa đăng có môn học nào được đăng ký. <a href="/registerCourse">Đăng ký ngay.</a></span>
        </div>
        {{/if}}
    </div>
    <div class="col-lg-3"></div>
</div>

<form method="post" action="" id="form-delete"></form>

<script>
    const dlts = document.querySelectorAll('[data-id]');
    let form = document.querySelector('#form-delete');
    dlts.forEach(dlt => {
        dlt.addEventListener('click', (event) => {
            event.preventDefault();
            const id = dlt.getAttribute('data-id');
            form.action = `/registerCourse/${id}/delete?_method=PATCH`;
            form.submit();
        })
    })
</script>